set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin/tests)
if (CHAOS_BUILD_UNIT_TEST)
  include(CTest)
  include(Catch)

  file(GLOB_RECURSE test_units "unit_test/*.cc")
  add_unit(unit_test SRCS ${test_units} LIBS Catch2::Catch2 chaos)
  catch_discover_tests(unit_test)
endif(CHAOS_BUILD_UNIT_TEST)

add_unit(bench_eigen_storage_align LIBS chaos::utils chaos::common)
add_unit(functor_evaluation_cost LIBS chaos OpenMP::OpenMP_CXX)
# add_unit(functor_evaluation_cost_with_data_filler LIBS chaos OpenMP::OpenMP_CXX)
# add_unit(test_function LIBS chaos::mapping)
# add_unit(test_forward)
# add_unit(test_tuple LIBS chaos::mapping)
